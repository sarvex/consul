<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="graph-div" width="100%" height="417" style="max-width:827.58984375px" viewBox="0 0 827.59 417"><style>#graph-div{fill:#333}#graph-div,#graph-div .label,#graph-div svg{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif}#graph-div,#graph-div svg{font-size:16px}#graph-div .cluster span,#graph-div .label{color:#333}#graph-div span{fill:#333;color:#333}#graph-div .node path{fill:#ececff;stroke:#9370db;stroke-width:1px}#graph-div .node .label{text-align:center}#graph-div .arrowheadPath{fill:#333}#graph-div .edgePath .path{stroke:#333;stroke-width:1.5px}#graph-div .edgeLabel{text-align:center;background-color:#f0f0f0}#graph-div .edgeLabel rect{opacity:.5;background-color:#e8e8e8;fill:#e8e8e8}#graph-div .node rect{fill:#dc477d;stroke-width:1;stroke:#000}#graph-div .node .label{color:#fff}#graph-div .cluster rect{fill:#f0f0f0;stroke-width:1px;stroke:#333}#graph-div:root{--mermaid-font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif}</style><g><g class="output"><g class="clusters"><g id="flowchart-subGraph1-7796" class="cluster" transform="translate(636.9765625,268)" style="opacity:1"><rect width="358.484" height="94" x="-179.242" y="-47"/><g id="graph-divText" class="label"><g transform="translate(0, -33) translate(-62.3828125,-12)"><foreignObject width="124.766" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Consul Secondary</div></foreignObject></g></g></g><g id="flowchart-subGraph0-7797" class="cluster" transform="translate(209.046875,208.5)" style="opacity:1"><rect width="402.094" height="213" x="-201.047" y="-106.5"/><g id="graph-divText" class="label"><g transform="translate(0, -92.5) translate(-53.203125,-12)"><foreignObject width="106.406" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Consul Primary</div></foreignObject></g></g></g></g><g class="edgePaths"><g id="L-ExternalRootCA-PrimaryRootCA" class="edgePath LS-ExternalRootCA LE-PrimaryRootCA" style="opacity:1"><path marker-end="url(#arrowhead5097)" d="M224.046875,52L224.046875,56.166666666666664C224.046875,60.333333333333336,224.046875,68.66666666666667,224.046875,77C224.046875,85.33333333333333,224.046875,93.66666666666667,224.046875,102C224.046875,110.33333333333333,224.046875,118.66666666666667,224.046875,122.83333333333333L224.046875,127" class="path" style="fill:none;stroke-width:2px;stroke-dasharray:3"/><defs><marker id="arrowhead5097" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1,0"/></marker></defs></g><g id="L-PrimaryRootCA-PrimarySigningCA" class="edgePath LS-PrimaryRootCA LE-PrimarySigningCA" style="opacity:1"><path marker-end="url(#arrowhead5098)" d="M219.36602393617022,171L218.47949911347519,175.16666666666666C217.59297429078015,179.33333333333334,215.81992464539007,187.66666666666666,214.93339982269504,196C214.046875,204.33333333333334,214.046875,212.66666666666666,214.046875,221C214.046875,229.33333333333334,214.046875,237.66666666666666,214.046875,241.83333333333334L214.046875,246" class="path" style="fill:none;stroke-width:2px;stroke-dasharray:3"/><defs><marker id="arrowhead5098" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1,0"/></marker></defs></g><g id="L-PrimaryRootCA-SeconarySigningCA" class="edgePath LS-PrimaryRootCA LE-SeconarySigningCA" style="opacity:1"><path marker-end="url(#arrowhead5099)" d="M273.6364694148936,171L283.028438054078,175.16666666666666C292.4204066932624,179.33333333333334,311.2043439716312,187.66666666666666,320.5963126108156,196C329.98828125,204.33333333333334,329.98828125,212.66666666666666,368.3860677083333,222.61783253410795C406.7838541666667,232.56899840154918,483.5794270833333,244.1379968030984,521.9772135416666,249.922496003873L560.375,255.7069952046476" class="path" style="fill:none"/><defs><marker id="arrowhead5099" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1,0"/></marker></defs></g><g id="L-PrimarySigningCA-LeafCertAgentPrimary" class="edgePath LS-PrimarySigningCA LE-LeafCertAgentPrimary" style="opacity:1"><path marker-end="url(#arrowhead5100)" d="M164.4572805851064,290L155.065311945922,294.1666666666667C145.6733433067376,298.3333333333333,126.8894060283688,306.6666666666667,117.49743738918441,315C108.10546875,323.3333333333333,108.10546875,331.6666666666667,108.10546875,340C108.10546875,348.3333333333333,108.10546875,356.6666666666667,108.10546875,360.8333333333333L108.10546875,365" class="path" style="fill:none"/><defs><marker id="arrowhead5100" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1,0"/></marker></defs></g><g id="L-PrimarySigningCA-LeafCertServicePrimary" class="edgePath LS-PrimarySigningCA LE-LeafCertServicePrimary" style="opacity:1"><path marker-end="url(#arrowhead5101)" d="M263.6364694148936,290L273.028438054078,294.1666666666667C282.4204066932624,298.3333333333333,301.2043439716312,306.6666666666667,310.5963126108156,315C319.98828125,323.3333333333333,319.98828125,331.6666666666667,319.98828125,340C319.98828125,348.3333333333333,319.98828125,356.6666666666667,319.98828125,360.8333333333333L319.98828125,365" class="path" style="fill:none"/><defs><marker id="arrowhead5101" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1,0"/></marker></defs></g><g id="L-SeconarySigningCA-LeafCertAgentSecondary" class="edgePath LS-SeconarySigningCA LE-LeafCertAgentSecondary" style="opacity:1"><path marker-end="url(#arrowhead5102)" d="M592.3869680851063,290L582.994999445922,294.1666666666667C573.6030308067376,298.3333333333333,554.8190935283687,306.6666666666667,545.4271248891844,315C536.03515625,323.3333333333333,536.03515625,331.6666666666667,536.03515625,340C536.03515625,348.3333333333333,536.03515625,356.6666666666667,536.03515625,360.8333333333333L536.03515625,365" class="path" style="fill:none"/><defs><marker id="arrowhead5102" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1,0"/></marker></defs></g><g id="L-SeconarySigningCA-LeafCertServiceSecondary" class="edgePath LS-SeconarySigningCA LE-LeafCertServiceSecondary" style="opacity:1"><path marker-end="url(#arrowhead5103)" d="M691.5661569148937,290L700.958125554078,294.1666666666667C710.3500941932625,298.3333333333333,729.1340314716313,306.6666666666667,738.5260001108157,315C747.91796875,323.3333333333333,747.91796875,331.6666666666667,747.91796875,340C747.91796875,348.3333333333333,747.91796875,356.6666666666667,747.91796875,360.8333333333333L747.91796875,365" class="path" style="fill:none"/><defs><marker id="arrowhead5103" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1,0"/></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" style="opacity:1"><g class="label" transform="translate(0,0)"><rect width="0" height="0" rx="0" ry="0"/><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-ExternalRootCA-PrimaryRootCA" class="edgeLabel L-LS-ExternalRootCA' L-LE-PrimaryRootCA"/></div></foreignObject></g></g><g class="edgeLabel" style="opacity:1"><g class="label" transform="translate(0,0)"><rect width="0" height="0" rx="0" ry="0"/><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-PrimaryRootCA-PrimarySigningCA" class="edgeLabel L-LS-PrimaryRootCA' L-LE-PrimarySigningCA"/></div></foreignObject></g></g><g class="edgeLabel" style="opacity:1"><g class="label" transform="translate(0,0)"><rect width="0" height="0" rx="0" ry="0"/><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-PrimaryRootCA-SeconarySigningCA" class="edgeLabel L-LS-PrimaryRootCA' L-LE-SeconarySigningCA"/></div></foreignObject></g></g><g class="edgeLabel" style="opacity:1"><g class="label" transform="translate(0,0)"><rect width="0" height="0" rx="0" ry="0"/><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-PrimarySigningCA-LeafCertAgentPrimary" class="edgeLabel L-LS-PrimarySigningCA' L-LE-LeafCertAgentPrimary"/></div></foreignObject></g></g><g class="edgeLabel" style="opacity:1"><g class="label" transform="translate(0,0)"><rect width="0" height="0" rx="0" ry="0"/><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-PrimarySigningCA-LeafCertServicePrimary" class="edgeLabel L-LS-PrimarySigningCA' L-LE-LeafCertServicePrimary"/></div></foreignObject></g></g><g class="edgeLabel" style="opacity:1"><g class="label" transform="translate(0,0)"><rect width="0" height="0" rx="0" ry="0"/><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-SeconarySigningCA-LeafCertAgentSecondary" class="edgeLabel L-LS-SeconarySigningCA' L-LE-LeafCertAgentSecondary"/></div></foreignObject></g></g><g class="edgeLabel" style="opacity:1"><g class="label" transform="translate(0,0)"><rect width="0" height="0" rx="0" ry="0"/><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-SeconarySigningCA-LeafCertServiceSecondary" class="edgeLabel L-LS-SeconarySigningCA' L-LE-LeafCertServiceSecondary"/></div></foreignObject></g></g></g><g class="nodes"><g id="flowchart-SeconarySigningCA-7777" class="node default" transform="translate(641.9765625,268)" style="opacity:1"><rect width="163.203" height="44" x="-81.602" y="-22" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-71.6015625,-12)"><foreignObject width="143.203" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Seconary Signing CA</div></foreignObject></g></g></g><g id="flowchart-PrimaryRootCA-7775" class="node default" transform="translate(224.046875,149)" style="opacity:1"><rect width="135.578" height="44" x="-67.789" y="-22" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-57.7890625,-12)"><foreignObject width="115.578" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Primary Root CA</div></foreignObject></g></g></g><g id="flowchart-PrimarySigningCA-7776" class="node default" transform="translate(214.046875,268)" style="opacity:1"><rect width="250.422" height="44" x="-125.211" y="-22" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-115.2109375,-12)"><foreignObject width="230.422" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Primary Signing CA (conditional)</div></foreignObject></g></g></g><g id="flowchart-ExternalRootCA-7774" class="node default" transform="translate(224.046875,30)" style="opacity:1"><rect width="211.188" height="44" x="-105.594" y="-22" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-95.59375,-12)"><foreignObject width="191.188" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">External RootCA (optional)</div></foreignObject></g></g></g><g id="flowchart-LeafCertAgentPrimary-7778" class="node default" transform="translate(108.10546875,387)" style="opacity:1"><rect width="180.422" height="44" x="-90.211" y="-22" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-80.2109375,-12)"><foreignObject width="160.422" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Leaf Cert Client Agent</div></foreignObject></g></g></g><g id="flowchart-LeafCertServicePrimary-7779" class="node default" transform="translate(319.98828125,387)" style="opacity:1"><rect width="143.344" height="44" x="-71.672" y="-22" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-61.671875,-12)"><foreignObject width="123.344" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Leaf Cert Service</div></foreignObject></g></g></g><g id="flowchart-LeafCertAgentSecondary-7780" class="node default" transform="translate(536.03515625,387)" style="opacity:1"><rect width="180.422" height="44" x="-90.211" y="-22" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-80.2109375,-12)"><foreignObject width="160.422" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Leaf Cert Client Agent</div></foreignObject></g></g></g><g id="flowchart-LeafCertServiceSecondary-7781" class="node default" transform="translate(747.91796875,387)" style="opacity:1"><rect width="143.344" height="44" x="-71.672" y="-22" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-61.671875,-12)"><foreignObject width="123.344" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Leaf Cert Service</div></foreignObject></g></g></g></g></g></g></svg>